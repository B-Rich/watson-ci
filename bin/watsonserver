# -*- coding: utf-8 -*-

"""usage: watsonserver start|stop|restart"""

import args
import sys

sys.path.insert(0, ".")

from watson import daemon


def print_usage():
    print __doc__.strip()
    return 1


def main():
    if not args.not_files:
        return print_usage()

    command = args.not_files[0]
    if command in ['start', 'stop', 'restart']:
        daemon.WatsonDaemon().perform(command)

    elif command == "run":
        daemon.WatsonDaemon().run()


if __name__ == '__main__':
    main()